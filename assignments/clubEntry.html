<!DOCTYPE html>
<html>
<head>
	<title>ClubMeNow:Lite - Add Club</title>
	<link rel="icon" href="clubMeNow300x300.png" type="image/png" />
	<!-- Bootstrap CSS -->
	<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css' />
	<!-- ClubMeNow custom CSS -->
	<link rel='stylesheet' href='clubMeNow.css' />
</head>

<body>
<div class='container'>
	<h1>Add Club</h1>
	<form action='clubDistanceList.html'>
		<div class='form-group'>
			<label for='clubName'></label>
			<input name='clubName' id='clubName' type='text' class='form-control cmn_moreHeight' placeholder='Driver' required /><br>
			<button class='btn btn-success cmn_fullHeight' onclick='addClub();'>&nbsp;&nbsp;&#x2714;&nbsp;&nbsp;</button> 
			<button class='btn btn-danger cmn_fullHeight'  onclick='cancelClub();'>&nbsp;&nbsp;X&nbsp;&nbsp;</button><br><br>
		</div>
	</form>
	
	<br>
	<footer>Copyright &copy;2019 George Corser</footer>
</div>
<!-- Bootstrap JS -->
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js'></script>
<!-- ClubMeNow custom JS -->
<script src='clubMeNow.js'></script>
<script>
	// retrieve the row of the user-chosen club
	var clubRow = parseInt(localStorage.getItem('club'));
	// retrieve the "clubs" array
	var clubs = JSON.parse(localStorage.getItem('clubs'));
	// display the full clubName of the user-chosen club
	var newClubName ;
	var newClubDistances;
	
	function addClub() {
                let clubName = document.getElementById("clubName").value;
	let clubAbr = clubName.substring(0,4);    
	let len = clubs.length - 1;
	let s;
	let arr = [];
	for (let i = 0; i < 10; i++){
		if (i == 1){
			arr.push(clubAbr);
		}
		else if (i == 2){
			arr.push(clubName);
		}
		else if (i == 7){
			s =  parseFloat(clubs[len][i]) + 1;
			arr.push(s);
		}
		
		else if (i == 0 || i == 8 || i == 9){
			s =  parseInt(clubs[len][i] + 1);
			arr.push(s);
		}
		else {
			arr.push(parseInt(clubs[len][i]));
		}
			
	}
	clubs.push(arr);
	let str = JSON.stringify(clubs);
	localStorage.setItem("clubs", str);
	window.location.href = "clubDistanceList.html";
	}
</script>

	
</body>
</html>
